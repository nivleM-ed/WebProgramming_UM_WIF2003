CREATE TABLE `loginsystem`.`users` ( 
	`idUsers` INT(11) NOT NULL AUTO_INCREMENT , 
	`uidUsers` TINYTEXT NOT NULL , 
	`emailUsers` TINYTEXT NOT NULL , 
	`pwdUsers` LONGTEXT NOT NULL , 
	PRIMARY KEY (`idUsers`)
) ENGINE = InnoDB;

CREATE TABLE `loginsystem`.`weather` ( 
	`user_id` INT(11) NOT NULL , 
	`weather` VARCHAR(200) NOT NULL , 
	`temp` INT(11) NOT NULL 
) ENGINE = InnoDB;

CREATE TABLE `loginsystem`.`journey` ( 
	`user_id` INT(11) NOT NULL , 
	`place_from` TEXT NOT NULL , 
	`place_to` TEXT NOT NULL , 
	`date_start` DATE NOT NULL , 
	`date_end` DATE NOT NULL
) ENGINE = InnoDB;

ALTER TABLE `journey` 
ADD FOREIGN KEY (`user_id`) REFERENCES `users`(`idUsers`) ON 
DELETE RESTRICT ON UPDATE RESTRICT;

CREATE TABLE `loginsystem`.`user_checklist` ( 
	`item_id` INT(11) NOT NULL AUTO_INCREMENT , 
	`item_name` TEXT NOT NULL , 
	`item_status` VARCHAR(20) NOT NULL DEFAULT '0' , 
	`checklist_id` INT(11) NOT NULL DEFAULT '0' , 
	PRIMARY KEY (`item_id`)
) ENGINE = InnoDB;

CREATE TABLE `loginsystem`.`checklist` ( 
	`item_id` INT(11) NOT NULL AUTO_INCREMENT , 
	`item_name` TEXT NOT NULL , 
	`weather` VARCHAR(200) NOT NULL , 
	`gender` CHAR(1) NOT NULL , 
	PRIMARY KEY (`item_id`)
) ENGINE = InnoDB;

CREATE TABLE `loginsystem`.`city` ( 
	`city_id` INT(11) NOT NULL , 
	`latitude` VARCHAR(20) NOT NULL , 
	`longitude` VARCHAR(20) NOT NULL , 
	`country_id` INT(11) NOT NULL , 
	`image` VARCHAR(255) NOT NULL , 
	PRIMARY KEY (`city_id`)
) ENGINE = InnoDB;

CREATE TABLE `loginsystem`.`country` ( 
	`country_id` INT(11) NOT NULL , 
	`latitude` VARCHAR(20) NOT NULL , 
	`longitude` VARCHAR(20) NOT NULL , 
	PRIMARY KEY (`country_id`)
) ENGINE = InnoDB;

CREATE TABLE `loginsystem`.`recommendation` ( 
	`place_id` INT(11) NOT NULL , 
	`name_place` TEXT NOT NULL , 
	`city_id` INT(11) NOT NULL , 
	`country_id` INT(11) NOT NULL , 
	`description` VARCHAR(1000) NOT NULL , 
	`image` VARCHAR(2083) NOT NULL , 
	`activity` TEXT NOT NULL , 
	`region` TEXT NOT NULL , 
	`rating` INT(11) NOT NULL , 
	`country` TEXT NOT NULL , 
	PRIMARY KEY (`place_id`)
) ENGINE = InnoDB;

ALTER TABLE `recommendation` 
ADD FOREIGN KEY (`city_id`) REFERENCES `city`(`city_id`) ON 
DELETE RESTRICT ON UPDATE RESTRICT; 

ALTER TABLE `recommendation` 
ADD FOREIGN KEY (`country_id`) REFERENCES `country`(`country_id`) ON 
DELETE RESTRICT ON UPDATE RESTRICT;

CREATE TABLE `loginsystem`.`user_calendar` ( 
	`user_id` INT(11) NOT NULL , 
	`date_start` DATE NOT NULL , 
	`date_end` DATE NOT NULL , 
	`time_start` TIME NOT NULL , 
	`time_end` TIME NOT NULL , 
	`data` TEXT NOT NULL , 
	`place_id` INT(11) NOT NULL 
) ENGINE = InnoDB;

ALTER TABLE `user_calendar` 
ADD FOREIGN KEY (`user_id`) REFERENCES `users`(`idUsers`) ON 
DELETE RESTRICT ON UPDATE RESTRICT; 

ALTER TABLE `user_calendar` 
ADD FOREIGN KEY (`place_id`) REFERENCES `recommendation`(`place_id`) ON 
DELETE RESTRICT ON UPDATE RESTRICT;

CREATE TABLE `loginsystem`.`user_recommendation` ( 
	`user_id` INT(11) NOT NULL , 
	`place_id` INT(11) NOT NULL , 
	PRIMARY KEY (`user_id`)
) ENGINE = InnoDB;

ALTER TABLE `user_recommendation` 
ADD FOREIGN KEY (`place_id`) REFERENCES `recommendation`(`place_id`) ON 
DELETE RESTRICT ON UPDATE RESTRICT;

CREATE TABLE `loginsystem`.`events` ( 
	`id` INT(11) NOT NULL AUTO_INCREMENT , 
	`title` VARCHAR(255) NOT NULL , 
	`start_event` DATETIME NOT NULL , 
	`end_event` DATETIME NOT NULL , 
	PRIMARY KEY (`id`)
) ENGINE = InnoDB;

CREATE TABLE `loginsystem`.`pwdreset` ( 
	`pwdResetId` INT(11) NOT NULL AUTO_INCREMENT , 
	`pwdResetEmail` TEXT NOT NULL , 
	`pwdResetSelector` TEXT NOT NULL , 
	`pwdResetToken` LONGTEXT NOT NULL , 
	`pwdResetExpires` TEXT NOT NULL , 
	PRIMARY KEY (`pwdResetId`)
) ENGINE = InnoDB;